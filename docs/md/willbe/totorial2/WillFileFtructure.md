# Структура will-файлу
---
В цьому туторіалі описані функціональні блоки will-файлу та приведено приклади створених will-файлів

Стандартно will-файл створений як [YAML](https://yaml.org/)-документ ([YAML-Wiki](https://en.wikipedia.org/wiki/YAML)).
Структура одного блоку приведена нижче:
```yaml
блок:
    поле_1: 
        параметр_1.2 : значення_1.2
    поле_2 (параметр) : значення
```
**About.** Блок will-файлу в якому поміщена основна інформація про модуль.
Структура полів блоку `about` за замовчуванням:  
| Поле           | Значення за замовчуванням | Характеристика                          |
|----------------|---------------------------|-----------------------------------------|
| name :         | null                      | назва модуля; обов'язкове поле          |
| description :  | null                      | опис (коротка характеристика модуля) - призначення, ліцензія, автори та ін.; необов'язков поле   |
| version :      | null                      | версія модуля - для позначення прогресу розробки та стану готовності продукту; необов'язков поле | 
| enabled :      | 1                         | стан відображення блоку; необов'язков поле |
| interpreters : | null                      | інтерпретатор модуля; необов'язков поле    |
| keywords :     | null                      | ключові слова для швидкого пошуку; необов'язков поле |
**Path.** Блок will-файлу який описує шляхи до директорій і файлів створюваного модулю.
Структура полів блоку `path` за замовчуванням:  
| Поле           | Значення за замовчуванням | Характеристика                          |
|----------------|---------------------------|-----------------------------------------|
| path :         | null                      | шлях до директорії виконання описаної процедурами в `build` (абсолютний, відносний); обов'язкове поле |
| description :  | null                      | коротка характеристика створеної директорії; необов'язкове поле    |
| criterion :    | null                      | критерій створення директорії; необов'язкове поле                  |
| inherit :      | \_.define.own(\[\])       | наслідування композиції директорій. Якщо вже є описаний сценарій, можливо включити його наслідування; необов'язкове поле          |
**Submodule.** Блок will-файлу який вказує на окремі will-файли готових модулів (підмодулі) створюваного модулю (супермодулю).
Структура полів блоку `submodule` за замовчуванням:  
| Поле           | Значення за замовчуванням | Характеристика                          |
|----------------|---------------------------|-----------------------------------------|
| path :         | null                      | шлях до підмодуля (абсолютний, відносний, URL); необов'язкове поле |
| description :  | null                      | коротка характеристика підмодуля; необов'язкове поле               |
| criterion :    | null                      | критерій роботи підмодуля; необов'язкове поле                      |
| inherit :      | \_.define.own(\[\])       | наслідування підмодулем. Якщо вже є описаний підмодуль, можливо включити наслідування властивостей; необов'язкове поле          |
**Step.** Блок will-файлу який описує можливі процедури для використання в блоці `build` при створенні will-модулю. Проте в цьому блоці можуть описуватися не всі процедури, оскільки деякі вбудовані в пакет `willbe`.
Структура полів блоку `step` за замовчуванням:  
| Поле           | Значення за замовчуванням | Характеристика                          |
|----------------|---------------------------|-----------------------------------------|
| description :  | null                      | коротка характеристика кроку (процедури); необов'язкове поле       |
| criterion :    | null                      | критерій роботи процедури; необов'язкове поле                      |
| opts :         | null                      | опції виконання процедурий; необов'язкове поле                     |
| inherit :      | \_.define.own(\[\])       | наслідування процедур. Якщо вже є описана процедура або рефлектор, можливо включити наслідування властивостей; необов'язкове поле          |
**Reflector.** Блок will-файлу основною функцією є групування файлів модуля згідно селектору (зазвичай ґлобу).
Структура полів блоку `reflector` за замовчуванням:  
| Поле           | Значення за замовчуванням | Характеристика                          |
|----------------|---------------------------|-----------------------------------------|
| description :  | null                      | коротка характеристика рефлектору, його призначення; необов'язкове поле |
| recursive :    | null                      | умова замикання процедури вибору файлів на себе; необов'язкове поле     |
| filePath :     | null                      | шлях до директорії з файлами (абсолютний, відносний); обов'язкове поле  |
| src :          | null                      | ресурси (URL); необов'язкове поле       |
| dst :          | null                      | -------------  ; обов'язкове поле       |
| criterion :    | null                      | критерій виконання рефлектору; необов'язкове поле                       |
| inherit :      | \_.define.own(\[\])       | наслідування вибірки рефлектором. Якщо вже є описане поле в іншому блоці, можливо включити його наслідування; необов'язкове поле          |
**Execution.** Блок will-файлу який описує варіанти виконання особливого виду will-модуля - нового will-файлу який може бути використаний як готове рішення або ж підмодуль складної системи.
**Exported.** Блок will-файлу який описує створення особливого виду will-модуля - нового will-файлу який може бути використаний як готове рішення або ж підмодуль складної системи.
труктура полів блоку `exported` за замовчуванням:  
| Поле           | Значення за замовчуванням | Характеристика                          |
|----------------|---------------------------|-----------------------------------------|
| version :      | null                      | версія модуля - для позначення прогресу розробки та стану готовності продукту; необов'язков поле |
| description :  | null                      | опис (коротка характеристика модуля) - призначення, ліцензія, автори та ін.; необов'язков поле   |
| criterion :    | null                      | критерій виконання створюваного модуля; обов'язкове поле        |
| inherit :      | \_.define.own(\[\])       | наслідування в експортованому файлі. Можливо включити наслідування властивостей блоків і полів вихідного файлу; необов'язкове поле          | 
| exportedReflector :      | null            | рефлектор, який діє в експортованому will-файлі                 |
| exportedFilesReflector : | null            | рефлектор, на експортовані файли                                |  
| exportedDirPath :        | null            | експортовані шляхи директорій для створення модулю              |
| exportedFilesPath :      | null            | експортовані шляхи файлів для створення модулю                  |
| archiveFilePath :        | null            | експортовані шляхи для архівованих файлів створеного модулю     |
**Build.** Один з найважливіших блоків will-файлу який описує послідовність процедур створення модулю на основі значень в попередніх функціональних блоках та вбудованих функцій.
Структура полів блоку `build` за замовчуванням:  
| Поле          | Значення за замовчуванням | Характеристика                          |
|---------------|---------------------------|-----------------------------------------|
| description : | null                      | пояснення до збірки модуля; необов'язковий поле                 |  
| criterion :   | null                      | критерій виконання створюваного модуля; обов'язкове поле        |
| steps :       | null                      | процедури, які будуть використовуватись при створенні модулю. Процедури можуть бути не прописані в блоці `step`, а вбудовані в пакет; обов'язкове поле |
| inherit :      | \_.define.own(\[\])      | наслідування збірником. Якщо вже є описана процедура, можливо включити її наслідування; необов'язкове поле          |

### Приклади will-файлів
<details>
  <summary><u>Найпростіший will-файл з функцією встановлення пакетів NodeJS</u></summary>
```yaml

about :

  name : second
  description : "Second module"
  version : 0.0.1

step :

  npm.install :
    currentPath : '.'
    shell : npm install

build :

  debug:
    criterion :
      default : 1
    steps :
      - npm.install
```
Детальніше в розділі [First will-file](First_will_file.md)  
</details>

<details>
  <summary><u>Will-файл з функцією експорту</u></summary>
```
About
  name : 'listing'
  description : 'Module for listing'
  version : '0.0.1'
  enabled : 1

Paths
  in : 'in'
  out : 'out'
  export : 'proto'

step::export.proto
  opts :
    tar : 0
    export : path::export
  inherit :
    export

build::export
  criterion :
    default : 1
    export : 1
  steps :
    export.proto
```
</details>

<details>
  <summary><u>Will-файл з експорту локального модуля</u></summary>
```yaml

about :

  name : semantic-ui
  version : 2.0.7

path :

  out : '.'
  export : '.'

step  :
  export.semantic :
      inherit : export
      tar : 0
      export : path::export

build :
  export :
      criterion :
          default : 1
          export : 1
      steps :
          - export.semantic
```
</details>

[Повернутись до меню](Topics.md)